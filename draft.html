<unit stream = "./[key]" key = "[{kind: 'numbers', numbers: [7, 8, 10, 11]}]"><!--stream-map = ""-->
    <g transform="translate(183.500000, 245.500000)">
        <rect x = "-12" y = "-12" width = "31" height = "31"></rect>
        <g class = "hide">
            <setup props = "{ used: argv.sum }"></setup><!-- keyframes = "[]"  -->
            <use x = "-12" y = "-12" width = "29" height = "29">
                <setup props = "{ 'xlink:href': argv }"></setup>
            </use>
            <text class="chip-value" transform="translate(2, 6)" text-anchor="middle" >
                <tspan class = "chip-text">
                    <setup props = "{ /*argv:*/sum: argv.sum }">{ argv.sum }</setup>
                </tspan>
            </text>
        </g>
    </g>
</unit>

<unit use = "./required-unit"></unit>

"./[key]"
"./[key = key, someone = 10]"

//current form

<tee>

    <unit key = 1></unit>
    <unit key = 2></unit>
    <unit key = 3></unit>

</tee>

//next draft with included tee manager ( every view has its own loader ( if not pre-loaded form ) )


<unit resources = '[
    { type: "style", url: "res/css/cover.css" },
    { type: "formatters", url: "res/formatters.json" },
]'>

    <plug key = player use = url(./player) template stream = #player/></plug>

    <unit tee stream = ./session/games/current/mw>

        //with preload (preload form doesn't need a loader unit)
        <unit preload tee key = 1></unit>
        <unit preload tee key = 2></unit>
        <unit preload tee key = 3></unit>

        <unit key = loader use = ./master/loader></unit>
        <unit key = '{name: "alpha1"}' stream = ../../ >
            <unit use = url(./session/games/current/mw)></unit>
        </unit>

    </unit>

</unit>

//full
<setup keyframes='[[ "*", { duration: 300 }, [ 1, { css: {  } } ] ]]'>

        //only default action last key-frame
        <setup keyframes='{ css: {} }'></setup>

</setup>




<!-- define abstract tooltip component -->
<unit template key=tooltip
      onpointerenter = request(["over"])
      onpointerleave = request(["leave"])
>
    <script>

        import {stream} from "m2"

        export default (/*{ key }*/) =>
            stream(
                (emt, {hook}) => {
                    let state = { on: false };
                    emt( [ state ] );
                    hook.add(( { action } ) => {
                        if(action === "over") {
                            state = { on: true };
                        }
                        else {
                            state = { on: false };
                        }
                        emt( [ state, [ action ] ] );
                    })
                }
            )

    </script>

    <div>
        <unit
                key = body
                onpointerenter = request(["over"])
                onpointerleave = request(["leave"])
        ></unit>
    </div>
    <unit tee = {on:true} stream = "./" key = tooltip></unit>

</unit>

<!-- define custom tooltip body -->
<unit template key=tooltip-body>
    <div>
        <unit key = body></unit>
        <setup keyframes = "[ 'fade-in', {delay: 3, duration: 0.3}, [1, {opacity: 1}] ]"></setup>
        <setup keyframes = "[ 'fade-out', {duration: 0.1}, [0, {opacity: 0}] ]"></setup>
    </div>
</unit>

<!-- use complex -->
<unit use = tooltip>
    <unit key = body>
        <button> </button>
    </unit>
    <unit key = tooltip use = tooltip-body>
        <unit key = body>
            <div class="tooltip-wrap">
                <unit tee = {on:true}>{lang.toolbar-hint-on}</unit>
                <unit tee = {on:false}>{lang.toolbar-hint-off}</unit>
            </div>
        </unit>
    </unit>
</unit>